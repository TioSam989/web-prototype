import{s as u}from"./sptTokenJs.c9a65f70.js";async function h(t){try{const n=`https://api.spotify.com/v1/search?q=${t}&type=track&limit=5`,e={method:"GET",mode:"no-cors",timeout:1e3};return await fetch(`${n}`,{method:"GET",headers:{Authorization:`Bearer ${await u()}`}}).then(r=>r.json().then(a=>a))}catch(n){console.error(n)}}async function f(t){var n=await h(t);let e=Object.values(n),r=Object.values(e)[0],a=Object.values(r)[1],s=[];return Object.keys(a).forEach(function(i){let l={trackId:a[i].id,name:a[i].name,artist:c(a[i].artists,"name"),artistId:c(a[i].artists,"id"),artists:a[i].artists,market:a[i].available_markets[0],musicData:a[i]};s.push(l)}),s}function c(t,n){if(n=="name"){if(t.length==1)return t[0].name;if(t.length>1){let e=[];for(let r=0;r<t.length;r++)e.push(t[r].name);return e.join(", "),e}}else if(n=="id"){if(t.length==1)return t[0].id;if(t.length>1){let e=[];for(let r=0;r<t.length;r++)e.push(t[r].id);return e}}}export{f as g};
