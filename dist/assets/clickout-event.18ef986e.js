(function(){const s="on",n="out",T="body",c="stop",p="click",a="apply",L="target",N="prototype",S="Propagation",j="setAttribute",A="relatedTarget",m="addEventListener",d=Symbol(n),M=Object,l=document,O=typeof TouchEvent<"u"?TouchEvent:void 0,v=HTMLElement,y=v[N],P=Event[N],k=[p,"dbl"+p,"mousedown","mouseup","touchstart","touchend","pointerdown","pointerup"],H=new Set(k),b=new Set(k.map(e=>s+e+n)),E=(e,t)=>!!t&&e instanceof t,h=(e,t)=>e.contains(t),i=(e,t)=>{for(let o of e)t(o)},w=e=>{E(e,v)&&(e[d]?q(e):i(H,t=>{let o=s+t+n,u=e.getAttribute(o);u&&!I(e)[o]&&e[j](o,u)}),i(e.childNodes,w))},I=e=>e[d]=e[d]||{},q=e=>{I(e),r.includes(e)||(r.push(e),g=!0)},B=(e,t)=>h(t,e)?1:h(e,t)?-1:0,C=e=>{g&&(r.sort(B),g=!1);let t=e[L];E(e,O)?(e=new O(e.type+n,e))[A]=t:e=new e.constructor(e.type+n,M.assign({},e,{[A]:t})),e[c]=[],i(r,o=>{h(o,t)||e[c].some(u=>h(u,o))||o.dispatchEvent(e)})},x=e=>function(){let t=this,o=t.type;e[a](t),b.has(s+o)&&t[c].push(t[L])},f=(e,t,o)=>e[t]=o(e[t]);function D(e){let t=this[d][s+e.type];t&&t[a](this,[e])}let r=[],g=!1,z=l.createElement(T);i(H,e=>{l[m](e,C,{passive:!0,capture:!0});let t=s+e+n;M.defineProperty(y,t,{get(){return this[d][t]},set(o){this[m](e+n,D),this[d][t]=typeof o=="object"?o.handleEvent:o}})}),f(y,m,e=>function(...t){b.has(s+t[0])&&q(this),e[a](this,t)}),f(y,j,e=>function(t,o){b.has(t)?(e[a](z,[s+p,o]),this[t]=z[s+p]):e[a](this,[t,o])}),f(P,c+S,x),f(P,c+"Immediate"+S,x),new MutationObserver(e=>{i(e,t=>{i(t.addedNodes,w),i(t.removedNodes,o=>{E(o,v)&&(r=r.filter(u=>!h(o,u)))})})}).observe(l.documentElement,{childList:!0,subtree:!0}),w(l[T])})();
