import{s as c}from"./sptTokenJs.c9a65f70.js";async function l(t){try{const n=`https://api.spotify.com/v1/search?q=${t}&type=track`,e={method:"GET",mode:"no-cors"};return await fetch(`${n}`,{method:"GET",headers:{Authorization:`Bearer ${await c()}`}}).then(r=>r.json().then(a=>a))}catch(n){console.error(n)}}async function u(t){var n=await l(t);let e=Object.values(n),r=Object.values(e)[0],a=Object.values(r)[1];Object.keys(a).forEach(function(s){return{trackId:a[s].id,name:a[s].name,artist:i(a[s].artists,"name"),artistId:i(a[s].artists,"id"),artists:a[s].artists,musicData:a[s]}})}function i(t,n){if(n=="name"){if(console.log(t),t.length==1)return t[0].name;if(t.length>1){let e=[];for(let r=0;r<t.length;r++)e.push(t[r].name);return e.join(", "),e}}else if(n=="id"){if(t.length==1)return t[0].id;if(t.length>1){let e=[];for(let r=0;r<t.length;r++)e.push(t[r].id);return e}}}export{u as g};
