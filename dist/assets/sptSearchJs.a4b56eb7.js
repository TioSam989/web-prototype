import{s as h}from"./sptTokenJs.c9a65f70.js";async function f(t,i=5,e=5){try{const r=`https://api.spotify.com/v1/search?q=${t}&offset=${i}&type=track&limit=${e}`,c={method:"GET",mode:"no-cors",timeout:1e3};return await fetch(`${r}`,{method:"GET",headers:{Authorization:`Bearer ${await h()}`}}).then(s=>s.json().then(a=>a))}catch(r){console.error(r)}}async function d(t,i=5,e=5){var r=await f(t,i,e);let c=Object.values(r),s=Object.values(c)[0],a=Object.values(s)[1],l=[];return Object.keys(a).forEach(function(n){let o={trackId:a[n].id,name:a[n].name,artist:u(a[n].artists,"name"),artistId:u(a[n].artists,"id"),artists:a[n].artists,market:a[n].available_markets[0],musicData:a[n]};l.push(o)}),l}function u(t,i){if(i=="name"){if(t.length==1)return t[0].name;if(t.length>1){let e=[];for(let r=0;r<t.length;r++)e.push(t[r].name);return e.join(", "),e}}else if(i=="id"){if(t.length==1)return t[0].id;if(t.length>1){let e=[];for(let r=0;r<t.length;r++)e.push(t[r].id);return e}}}export{d as g};
